# Sense360 Flash - GitHub Pages Deployment Guide

## Overview
This guide will help you deploy your Sense360 Flash tool to GitHub Pages for free hosting. GitHub Pages provides a simple way to host static websites directly from your GitHub repository.

## Prerequisites
- A GitHub account
- Git installed on your computer
- The Sense360 Flash project files

## Step 1: Prepare Your Project for Deployment

### 1.1 Create a GitHub Repository
1. Go to [GitHub.com](https://github.com) and sign in
2. Click the "+" icon in the top right corner
3. Select "New repository"
4. Name your repository (e.g., "sense360-flash")
5. Make it **Public** (required for free GitHub Pages)
6. Don't initialize with README (we'll add our files)
7. Click "Create repository"

### 1.2 Project Structure
Your project is already configured for deployment. The build system will create static files in the `dist/public` folder that can be deployed to GitHub Pages.

### 1.3 GitHub Pages Workflow (Already Created)
The GitHub Actions workflow file is already included in your project at `.github/workflows/deploy.yml`. This file will automatically build and deploy your site when you push to GitHub.

## Step 2: Upload Your Project to GitHub

### 2.1 Initialize Git in Your Project
Open terminal/command prompt in your project folder:
```bash
git init
git add .
git commit -m "Initial commit - Sense360 Flash tool"
```

### 2.2 Connect to GitHub Repository
Replace `YOUR_USERNAME` and `YOUR_REPO_NAME` with your actual GitHub username and repository name:
```bash
git remote add origin https://github.com/YOUR_USERNAME/YOUR_REPO_NAME.git
git branch -M main
git push -u origin main
```

## Step 3: Enable GitHub Pages

### 3.1 Configure GitHub Pages Settings
1. Go to your repository on GitHub
2. Click on "Settings" tab
3. Scroll down to "Pages" section in the left sidebar
4. Under "Source", select "GitHub Actions"
5. Click "Save"

### 3.2 Wait for Deployment
1. Go to the "Actions" tab in your repository
2. You should see a workflow running
3. Wait for it to complete (green checkmark)
4. Your site will be available at: `https://YOUR_USERNAME.github.io/YOUR_REPO_NAME/`

## Step 4: Build Scripts (Already Configured)

Your `package.json` already includes the necessary build scripts. The GitHub Actions workflow will use these automatically.

## Step 5: Managing Firmware Files

### 5.1 Create Firmware Releases
1. Go to your repository on GitHub
2. Click "Releases" on the right sidebar
3. Click "Create a new release"
4. Tag version (e.g., "v1.0.0")
5. Upload your firmware `.bin` files as assets
6. Publish the release

### 5.2 Update Firmware Manager
Update the GitHub repository URL in `client/src/lib/firmware-manager.ts`:
```typescript
private readonly githubRepo = 'YOUR_USERNAME/YOUR_REPO_NAME';
```

## Step 6: Custom Domain (Optional)

### 6.1 Add Custom Domain
1. In your repository settings, go to "Pages"
2. Under "Custom domain", enter your domain (e.g., `flash.sense360.com`)
3. Create a `CNAME` file in your repository root with your domain name

### 6.2 DNS Configuration
Add a CNAME record in your domain's DNS settings:
- Name: `flash` (or your subdomain)
- Value: `YOUR_USERNAME.github.io`

## Step 7: Environment Variables (Optional)

### 7.1 For GitHub API Access
If you want to use the GitHub API for dynamic firmware loading:
1. Go to GitHub Settings > Developer settings > Personal access tokens
2. Generate a new token with "public_repo" permissions
3. Add it to your repository secrets as `GITHUB_TOKEN`

## Troubleshooting

### Common Issues:
1. **404 Error**: Check that your repository is public and GitHub Pages is enabled
2. **Build Fails**: Check the Actions tab for error logs
3. **Assets Not Loading**: Verify the `base` path in `vite.config.ts` matches your repository name
4. **HTTPS Required**: GitHub Pages serves over HTTPS, which is required for Web Serial API

### File Structure After Deployment:
```
your-repo/
├── .github/
│   └── workflows/
│       └── deploy.yml
├── client/
│   └── src/
│       └── ... (your source files)
├── dist/ (generated by build)
├── CNAME (if using custom domain)
├── vite.config.ts (updated with base path)
└── package.json (updated scripts)
```

## Testing Your Deployment

1. Visit your GitHub Pages URL
2. Test device connection (requires HTTPS)
3. Verify firmware selection works
4. Check all links and functionality

## Updates and Maintenance

### To Update Your Site:
1. Make changes to your code
2. Commit and push to main branch:
   ```bash
   git add .
   git commit -m "Update description"
   git push origin main
   ```
3. GitHub Actions will automatically rebuild and deploy

### To Add New Firmware:
1. Create a new release on GitHub
2. Upload firmware files as release assets
3. The site will automatically detect new versions

## Security Notes

- Never commit sensitive API keys to your repository
- Use environment variables for sensitive data
- Keep your repository public for free GitHub Pages
- HTTPS is automatically provided by GitHub Pages

## Support

If you encounter issues:
1. Check the Actions tab for build errors
2. Verify all file paths are correct
3. Ensure your repository is public
4. Test locally with `npm run build` and `npm run preview`

Your Sense360 Flash tool is now ready for deployment to GitHub Pages!